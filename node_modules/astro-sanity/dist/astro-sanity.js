(function(ce,Y){typeof exports=="object"&&typeof module<"u"?Y(exports):typeof define=="function"&&define.amd?define(["exports"],Y):(ce=typeof globalThis<"u"?globalThis:ce||self,Y(ce["astro-sanity"]={}))})(this,function(ce){"use strict";var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vt={},Mn={get exports(){return vt},set exports(t){vt=t}};(function(t,e){(function(r,n){t.exports=n()})(Y,function(){function r(){return r=Object.assign||function(p){for(var h=1;h<arguments.length;h++){var y=arguments[h];for(var f in y)Object.prototype.hasOwnProperty.call(y,f)&&(p[f]=y[f])}return p},r.apply(this,arguments)}function n(p,h){if(p){if(typeof p=="string")return i(p,h);var y=Object.prototype.toString.call(p).slice(8,-1);if(y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set")return Array.from(p);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return i(p,h)}}function i(p,h){(h==null||h>p.length)&&(h=p.length);for(var y=0,f=new Array(h);y<h;y++)f[y]=p[y];return f}function o(p,h){var y=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(y)return(y=y.call(p)).next.bind(y);if(Array.isArray(p)||(y=n(p))||h&&p&&typeof p.length=="number"){y&&(p=y);var f=0;return function(){return f>=p.length?{done:!0}:{done:!1,value:p[f++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function s(p){var h=p.split("-"),y=h[1],f=h[2],C=h[3];if(!y||!f||!C)throw new Error("Malformed asset _ref '"+p+`'. Expected an id like "`+a+'".');var _=f.split("x"),A=_[0],H=_[1],G=+A,J=+H,z=isFinite(G)&&isFinite(J);if(!z)throw new Error("Malformed asset _ref '"+p+`'. Expected an id like "`+a+'".');return{id:y,width:G,height:J,format:C}}var v=function(h){var y=h;return y?typeof y._ref=="string":!1},c=function(h){var y=h;return y?typeof y._id=="string":!1},g=function(h){var y=h;return y&&y.asset?typeof y.asset.url=="string":!1};function u(p){if(!p)return null;var h;if(typeof p=="string"&&d(p))h={asset:{_ref:O(p)}};else if(typeof p=="string")h={asset:{_ref:p}};else if(v(p))h={asset:p};else if(c(p))h={asset:{_ref:p._id||""}};else if(g(p))h={asset:{_ref:O(p.asset.url)}};else if(typeof p.asset=="object")h=r({},p);else return null;var y=p;return y.crop&&(h.crop=y.crop),y.hotspot&&(h.hotspot=y.hotspot),j(h)}function d(p){return/^https?:\/\//.test(""+p)}function O(p){var h=p.split("/").slice(-1);return("image-"+h[0]).replace(/\.([a-z]+)$/,"-$1")}function j(p){if(p.crop&&p.hotspot)return p;var h=r({},p);return h.crop||(h.crop={left:0,top:0,bottom:0,right:0}),h.hotspot||(h.hotspot={x:.5,y:.5,height:1,width:1}),h}var S=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function T(p){var h=r({},p||{}),y=h.source;delete h.source;var f=u(y);if(!f)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(y)+")");var C=f.asset._ref||f.asset._id||"",_=s(C),A=Math.round(f.crop.left*_.width),H=Math.round(f.crop.top*_.height),G={left:A,top:H,width:Math.round(_.width-f.crop.right*_.width-A),height:Math.round(_.height-f.crop.bottom*_.height-H)},J=f.hotspot.height*_.height/2,z=f.hotspot.width*_.width/2,re=f.hotspot.x*_.width,he=f.hotspot.y*_.height,ue={left:re-z,top:he-J,right:re+z,bottom:he+J};return h.rect||h.focalPoint||h.ignoreImageParams||h.crop||(h=r({},h,D({crop:G,hotspot:ue},h))),x(r({},h,{asset:_}))}function x(p){var h=(p.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),y=p.asset.id+"-"+p.asset.width+"x"+p.asset.height+"."+p.asset.format,f=h+"/images/"+p.projectId+"/"+p.dataset+"/"+y,C=[];if(p.rect){var _=p.rect,A=_.left,H=_.top,G=_.width,J=_.height,z=A!==0||H!==0||J!==p.asset.height||G!==p.asset.width;z&&C.push("rect="+A+","+H+","+G+","+J)}p.bg&&C.push("bg="+p.bg),p.focalPoint&&(C.push("fp-x="+p.focalPoint.x),C.push("fp-y="+p.focalPoint.y));var re=[p.flipHorizontal&&"h",p.flipVertical&&"v"].filter(Boolean).join("");return re&&C.push("flip="+re),S.forEach(function(he){var ue=he[0],ge=he[1];typeof p[ue]<"u"?C.push(ge+"="+encodeURIComponent(p[ue])):typeof p[ge]<"u"&&C.push(ge+"="+encodeURIComponent(p[ge]))}),C.length===0?f:f+"?"+C.join("&")}function D(p,h){var y,f=h.width,C=h.height;if(!(f&&C))return{width:f,height:C,rect:p.crop};var _=p.crop,A=p.hotspot,H=f/C,G=_.width/_.height;if(G>H){var J=Math.round(_.height),z=Math.round(J*H),re=Math.max(0,Math.round(_.top)),he=Math.round((A.right-A.left)/2+A.left),ue=Math.max(0,Math.round(he-z/2));ue<_.left?ue=_.left:ue+z>_.left+_.width&&(ue=_.left+_.width-z),y={left:ue,top:re,width:z,height:J}}else{var ge=_.width,qe=Math.round(ge/H),cr=Math.max(0,Math.round(_.left)),ze=Math.round((A.bottom-A.top)/2+A.top),me=Math.max(0,Math.round(ze-qe/2));me<_.top?me=_.top:me+qe>_.top+_.height&&(me=_.top+_.height-qe),y={left:cr,top:me,width:ge,height:qe}}return{width:f,height:C,rect:y}}var q=["clip","crop","fill","fillmax","max","scale","min"],M=["top","bottom","left","right","center","focalpoint","entropy"],ae=["format"];function se(p){return p&&"config"in p?typeof p.config=="function":!1}function ve(p){return p&&"clientConfig"in p?typeof p.clientConfig=="object":!1}function ye(p){for(var h=S,y=o(h),f;!(f=y()).done;){var C=f.value,_=C[0],A=C[1];if(p===_||p===A)return _}return p}function L(p){if(se(p)){var h=p.config(),y=h.apiHost,f=h.projectId,C=h.dataset,_=y||"https://api.sanity.io";return new B(null,{baseUrl:_.replace(/^https:\/\/api\./,"https://cdn."),projectId:f,dataset:C})}var A=p;if(ve(A)){var H=A.clientConfig,G=H.apiHost,J=H.projectId,z=H.dataset,re=G||"https://api.sanity.io";return new B(null,{baseUrl:re.replace(/^https:\/\/api\./,"https://cdn."),projectId:J,dataset:z})}return new B(null,p)}var B=function(){function p(y,f){this.options=void 0,this.options=y?r({},y.options||{},f||{}):r({},f||{})}var h=p.prototype;return h.withOptions=function(f){var C=f.baseUrl||this.options.baseUrl,_={baseUrl:C};for(var A in f)if(f.hasOwnProperty(A)){var H=ye(A);_[H]=f[A]}return new p(this,r({baseUrl:C},_))},h.image=function(f){return this.withOptions({source:f})},h.dataset=function(f){return this.withOptions({dataset:f})},h.projectId=function(f){return this.withOptions({projectId:f})},h.bg=function(f){return this.withOptions({bg:f})},h.dpr=function(f){return this.withOptions(f&&f!==1?{dpr:f}:{})},h.width=function(f){return this.withOptions({width:f})},h.height=function(f){return this.withOptions({height:f})},h.focalPoint=function(f,C){return this.withOptions({focalPoint:{x:f,y:C}})},h.maxWidth=function(f){return this.withOptions({maxWidth:f})},h.minWidth=function(f){return this.withOptions({minWidth:f})},h.maxHeight=function(f){return this.withOptions({maxHeight:f})},h.minHeight=function(f){return this.withOptions({minHeight:f})},h.size=function(f,C){return this.withOptions({width:f,height:C})},h.blur=function(f){return this.withOptions({blur:f})},h.sharpen=function(f){return this.withOptions({sharpen:f})},h.rect=function(f,C,_,A){return this.withOptions({rect:{left:f,top:C,width:_,height:A}})},h.format=function(f){return this.withOptions({format:f})},h.invert=function(f){return this.withOptions({invert:f})},h.orientation=function(f){return this.withOptions({orientation:f})},h.quality=function(f){return this.withOptions({quality:f})},h.forceDownload=function(f){return this.withOptions({download:f})},h.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},h.flipVertical=function(){return this.withOptions({flipVertical:!0})},h.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},h.fit=function(f){if(q.indexOf(f)===-1)throw new Error('Invalid fit mode "'+f+'"');return this.withOptions({fit:f})},h.crop=function(f){if(M.indexOf(f)===-1)throw new Error('Invalid crop mode "'+f+'"');return this.withOptions({crop:f})},h.saturation=function(f){return this.withOptions({saturation:f})},h.auto=function(f){if(ae.indexOf(f)===-1)throw new Error('Invalid auto mode "'+f+'"');return this.withOptions({auto:f})},h.pad=function(f){return this.withOptions({pad:f})},h.url=function(){return T(this.options)},h.toString=function(){return this.url()},p}();return L})})(Mn);const Hn=vt;function Ln(t){return Hn(t)}function pr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pr(Object(r),!0).forEach(function(n){Fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xe(t){return t._type==="span"&&"text"in t&&typeof t.text=="string"&&(t.marks===void 0||Array.isArray(t.marks)&&t.marks.every(e=>typeof e=="string"))}function hr(t){return typeof t._type=="string"&&t._type[0]!=="@"&&(!("markDefs"in t)||Array.isArray(t.markDefs)&&t.markDefs.every(e=>typeof e._key=="string"))&&"children"in t&&Array.isArray(t.children)&&t.children.every(e=>typeof e=="object"&&"_type"in e)}function vr(t){return hr(t)&&"listItem"in t&&typeof t.listItem=="string"&&(t.level===void 0||typeof t.level=="number")}function yr(t){return t._type==="@list"}function gr(t){return t._type==="@span"}function mr(t){return t._type==="@text"}const br=["strong","em","code","underline","strike-through"];function Nn(t,e,r){if(!Xe(t)||!t.marks)return[];if(!t.marks.length)return[];const n=t.marks.slice(),i={};return n.forEach(o=>{i[o]=1;for(let a=e+1;a<r.length;a++){const s=r[a];if(!(s&&Xe(s)&&Array.isArray(s.marks)&&s.marks.indexOf(o)!==-1))break;i[o]++}}),n.sort((o,a)=>function(s,v,c){const g=s[v],u=s[c];if(g!==u)return u-g;const d=br.indexOf(v),O=br.indexOf(c);return d!==O?d-O:v.localeCompare(c)}(i,o,a))}function Bn(t){var e;const{children:r,markDefs:n=[]}=t;if(!r||!r.length)return[];const i=r.map(Nn),o={_type:"@span",children:[],markType:"<unknown>"};let a=[o];for(let s=0;s<r.length;s++){const v=r[s];if(!v)continue;const c=i[s]||[];let g=1;if(a.length>1)for(;g<a.length;g++){const d=((e=a[g])==null?void 0:e.markKey)||"",O=c.indexOf(d);if(O===-1)break;c.splice(O,1)}a=a.slice(0,g);let u=a[a.length-1];if(u){for(const d of c){const O=n.find(T=>T._key===d),j=O?O._type:d,S={_type:"@span",_key:v._key,children:[],markDef:O,markType:j,markKey:d};u.children.push(S),a.push(S),u=S}if(Xe(v)){const d=v.text.split(`
`);for(let O=d.length;O-- >1;)d.splice(O,0,`
`);u.children=u.children.concat(d.map(O=>({_type:"@text",text:O})))}else u.children=u.children.concat(v)}}return o.children}function zn(t,e){const r=[];let n;for(let i=0;i<t.length;i++){const o=t[i];if(o)if(vr(o))if(n)if(Vn(o,n))n.children.push(o);else if((o.level||1)>n.level){const a=Ge(o,i,e);if(e==="html"){const s=n.children[n.children.length-1],v=dr(dr({},s),{},{children:[...s.children,a]});n.children[n.children.length-1]=v}else n.children.push(a);n=a}else if((o.level||1)<n.level){const a=r[r.length-1],s=a&&yt(a,o);if(s){n=s,n.children.push(o);continue}n=Ge(o,i,e),r.push(n)}else if(o.listItem===n.listItem)console.warn("Unknown state encountered for block",o),r.push(o);else{const a=r[r.length-1],s=a&&yt(a,{level:o.level||1});if(s&&s.listItem===o.listItem){n=s,n.children.push(o);continue}n=Ge(o,i,e),r.push(n)}else n=Ge(o,i,e),r.push(n);else r.push(o),n=void 0}return r}function Vn(t,e){return(t.level||1)===e.level&&t.listItem===e.listItem}function Ge(t,e,r){return{_type:"@list",_key:"".concat(t._key||"".concat(e),"-parent"),mode:r,level:t.level||1,listItem:t.listItem,children:[t]}}function yt(t,e){const r=e.level||1,n=e.listItem||"normal",i=typeof e.listItem=="string";if(yr(t)&&(t.level||1)===r&&i&&(t.listItem||"normal")===n)return t;if(!("children"in t))return;const o=t.children[t.children.length-1];return o&&!Xe(o)?yt(o,e):void 0}function wr(t){let e="";return t.children.forEach(r=>{mr(r)?e+=r.text:gr(r)&&(e+=wr(r))}),e}var Wn=Object.defineProperty,Xn=Object.defineProperties,Gn=Object.getOwnPropertyDescriptors,Je=Object.getOwnPropertySymbols,_r=Object.prototype.hasOwnProperty,Or=Object.prototype.propertyIsEnumerable,Er=(t,e,r)=>e in t?Wn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Te=(t,e)=>{for(var r in e||(e={}))_r.call(e,r)&&Er(t,r,e[r]);if(Je)for(var r of Je(e))Or.call(e,r)&&Er(t,r,e[r]);return t},gt=(t,e)=>Xn(t,Gn(e)),mt=(t,e)=>{var r={};for(var n in t)_r.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Je)for(var n of Je(t))e.indexOf(n)<0&&Or.call(t,n)&&(r[n]=t[n]);return r};const Jn=["http","https","mailto","tel"],Qn={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27"};function Sr(t){return t.replace(/[&<>"']/g,e=>`&${Qn[e]};`)}function Yn(t){const e=(t||"").trim(),r=e.charAt(0);if(r==="#"||r==="/")return!0;const n=e.indexOf(":");if(n===-1)return!0;const i=e.slice(0,n).toLowerCase();if(Jn.indexOf(i)!==-1)return!0;const o=e.indexOf("?");if(o!==-1&&n>o)return!0;const a=e.indexOf("#");return a!==-1&&n>a}const Kn={em:({children:t})=>`<em>${t}</em>`,strong:({children:t})=>`<strong>${t}</strong>`,code:({children:t})=>`<code>${t}</code>`,underline:({children:t})=>`<span style="text-decoration:underline">${t}</span>`,"strike-through":({children:t})=>`<del>${t}</del>`,link:({children:t,value:e})=>{const r=(e==null?void 0:e.href)||"";return Yn(r)?`<a href="${Sr(r)}">${t}</a>`:t}},Zn={number:({children:t})=>`<ol>${t}</ol>`,bullet:({children:t})=>`<ul>${t}</ul>`},ei=({children:t})=>`<li>${t}</li>`,Me=(t,e)=>`Unknown ${t}, specify a component for it in the \`components.${e}\` option`,Ir=t=>Me(`block type "${t}"`,"types"),ti=t=>Me(`mark type "${t}"`,"marks"),ri=t=>Me(`block style "${t}"`,"block"),ni=t=>Me(`list style "${t}"`,"list"),ii=t=>Me(`list item style "${t}"`,"listItem");function oi(t){console.warn(t)}const Pr={types:{},block:{normal:({children:t})=>`<p>${t}</p>`,blockquote:({children:t})=>`<blockquote>${t}</blockquote>`,h1:({children:t})=>`<h1>${t}</h1>`,h2:({children:t})=>`<h2>${t}</h2>`,h3:({children:t})=>`<h3>${t}</h3>`,h4:({children:t})=>`<h4>${t}</h4>`,h5:({children:t})=>`<h5>${t}</h5>`,h6:({children:t})=>`<h6>${t}</h6>`},marks:Kn,list:Zn,listItem:ei,hardBreak:()=>"<br/>",unknownType:({value:t,isInline:e})=>{const r=Ir(t._type);return e?`<span style="display:none">${r}</span>`:`<div style="display:none">${r}</div>`},unknownMark:({markType:t,children:e})=>`<span class="unknown__pt__mark__${t}">${e}</span>`,unknownList:({children:t})=>`<ul>${t}</ul>`,unknownListItem:({children:t})=>`<li>${t}</li>`,unknownBlockStyle:({children:t})=>`<p>${t}</p>`};function ai(t,e){const r=e,n=mt(r,["block","list","listItem","marks","types"]);return Te(gt(Te({},t),{block:He(t,e,"block"),list:He(t,e,"list"),listItem:He(t,e,"listItem"),marks:He(t,e,"marks"),types:He(t,e,"types")}),n)}function He(t,e,r){const n=e[r],i=t[r];return typeof n=="function"||n&&typeof i=="function"?n:n?Te(Te({},i),n):i}function si(t,e={}){const{components:r,onMissingComponent:n=oi}=e,i=n||ci,o=Array.isArray(t)?t:[t],a=zn(o,"html"),s=r?ai(Pr,r):Pr,v=ui(s,i);return a.map((g,u)=>v({node:g,index:u,isInline:!1,renderNode:v})).join("")}const ui=(t,e)=>{function r(c){const{node:g,index:u,isInline:d}=c;return yr(g)?i(g,u):vr(g)?n(g,u):gr(g)?o(g):hr(g)?a(g,u,d):mr(g)?s(g):v(g,u,d)}function n(c,g){const u=Cr({node:c,index:g,isInline:!1,renderNode:r}),d=t.listItem,j=(typeof d=="function"?d:d[c.listItem])||t.unknownListItem;if(j===t.unknownListItem){const T=c.listItem||"bullet";e(ii(T),{type:T,nodeType:"listItemStyle"})}let S=u.children;if(c.style&&c.style!=="normal"){const T=c,x=mt(T,["listItem"]);S=r({node:x,index:g,isInline:!1,renderNode:r})}return j({value:c,index:g,isInline:!1,renderNode:r,children:S})}function i(c,g){const u=c.children.map((S,T)=>r({node:S._key?S:gt(Te({},S),{_key:`li-${g}-${T}`}),index:g,isInline:!1,renderNode:r})),d=t.list,j=(typeof d=="function"?d:d[c.listItem])||t.unknownList;if(j===t.unknownList){const S=c.listItem||"bullet";e(ni(S),{nodeType:"listStyle",type:S})}return j({value:c,index:g,isInline:!1,renderNode:r,children:u.join("")})}function o(c){const{markDef:g,markType:u,markKey:d}=c,O=t.marks[u]||t.unknownMark,j=c.children.map((S,T)=>r({node:S,index:T,isInline:!0,renderNode:r}));return O===t.unknownMark&&e(ti(u),{nodeType:"mark",type:u}),O({text:wr(c),value:g,markType:u,markKey:d,renderNode:r,children:j.join("")})}function a(c,g,u){const d=Cr({node:c,index:g,isInline:u,renderNode:r}),O=mt(d,["_key"]),j=O.node.style||"normal",T=(typeof t.block=="function"?t.block:t.block[j])||t.unknownBlockStyle;return T===t.unknownBlockStyle&&e(ri(j),{nodeType:"blockStyle",type:j}),T(gt(Te({},O),{value:O.node,renderNode:r}))}function s(c){if(c.text===`
`){const g=t.hardBreak;return g?g():`
`}return Sr(c.text)}function v(c,g,u){const d=t.types[c._type];return d||e(Ir(c._type),{nodeType:"block",type:c._type}),(d||t.unknownType)({value:c,isInline:u,index:g,renderNode:r})}return r};function Cr(t){const{node:e,index:r,isInline:n,renderNode:i}=t,a=Bn(e).map((s,v)=>i({node:s,isInline:!0,index:v,renderNode:i}));return{_key:e._key||`block-${r}`,children:a.join(""),index:r,isInline:n,node:e}}function ci(){}function fi(t,e={}){return si(t,{components:e})}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Tr=Object.getOwnPropertySymbols,li=Object.prototype.hasOwnProperty,pi=Object.prototype.propertyIsEnumerable;function di(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function hi(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var W=hi()?Object.assign:function(t,e){for(var r,n=di(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)li.call(r,a)&&(n[a]=r[a]);if(Tr){i=Tr(r);for(var s=0;s<i.length;s++)pi.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n},bt={},wt={},Pe={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});function vi(t){return typeof t=="function"}Qe.isFunction=vi;var Ye={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});var _t=!1;Le.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else _t&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_t=t},get useDeprecatedSynchronousErrorHandling(){return _t}};var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});function yi(t){setTimeout(function(){throw t},0)}Ke.hostReportError=yi,Object.defineProperty(Ye,"__esModule",{value:!0});var gi=Le,mi=Ke;Ye.empty={closed:!0,next:function(t){},error:function(t){if(gi.config.useDeprecatedSynchronousErrorHandling)throw t;mi.hostReportError(t)},complete:function(){}};var Ot={},Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.isArray=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();var St={};Object.defineProperty(St,"__esModule",{value:!0});function bi(t){return t!==null&&typeof t=="object"}St.isObject=bi;var It={};Object.defineProperty(It,"__esModule",{value:!0});var wi=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}();It.UnsubscriptionError=wi,Object.defineProperty(Ot,"__esModule",{value:!0});var _i=Et,Oi=St,Ei=Qe,Ze=It,Si=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,o=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var s=0;s<n.length;++s){var v=n[s];v.remove(this)}if(Ei.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(u){e=u instanceof Ze.UnsubscriptionError?jr(u.errors):[u]}}if(_i.isArray(a))for(var s=-1,c=a.length;++s<c;){var g=a[s];if(Oi.isObject(g))try{g.unsubscribe()}catch(d){e=e||[],d instanceof Ze.UnsubscriptionError?e=e.concat(jr(d.errors)):e.push(d)}}if(e)throw new Ze.UnsubscriptionError(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var o=this._subscriptions;return o===null?this._subscriptions=[r]:o.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();Ot.Subscription=Si;function jr(t){return t.reduce(function(e,r){return e.concat(r instanceof Ze.UnsubscriptionError?r.errors:r)},[])}var Pt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),t.$$rxSubscriber=t.rxSubscriber})(Pt);var xr=Y&&Y.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Pe,"__esModule",{value:!0});var Rr=Qe,Ct=Ye,Ii=Ot,Pi=Pt,je=Le,et=Ke,Ar=function(t){xr(e,t);function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Ct.empty;break;case 1:if(!r){o.destination=Ct.empty;break}if(typeof r=="object"){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new Tt(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new Tt(o,r,n,i);break}return o}return e.prototype[Pi.rxSubscriber]=function(){return this},e.create=function(r,n,i){var o=new e(r,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Ii.Subscription);Pe.Subscriber=Ar;var Tt=function(t){xr(e,t);function e(r,n,i,o){var a=t.call(this)||this;a._parentSubscriber=r;var s,v=a;return Rr.isFunction(n)?s=n:n&&(s=n.next,i=n.error,o=n.complete,n!==Ct.empty&&(v=Object.create(n),Rr.isFunction(v.unsubscribe)&&a.add(v.unsubscribe.bind(v)),v.unsubscribe=a.unsubscribe.bind(a))),a._context=v,a._next=s,a._error=i,a._complete=o,a}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!je.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=je.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):et.hostReportError(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;et.hostReportError(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!je.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),je.config.useDeprecatedSynchronousErrorHandling)throw i;et.hostReportError(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!je.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return je.config.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=o,r.syncErrorThrown=!0,!0):(et.hostReportError(o),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Ar);Pe.SafeSubscriber=Tt,Object.defineProperty(wt,"__esModule",{value:!0});var Ci=Pe;function Ti(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof Ci.Subscriber?t=n:t=null}return!0}wt.canReportError=Ti;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});var xt=Pe,$r=Pt,ji=Ye;function xi(t,e,r){if(t){if(t instanceof xt.Subscriber)return t;if(t[$r.rxSubscriber])return t[$r.rxSubscriber]()}return!t&&!e&&!r?new xt.Subscriber(ji.empty):new xt.Subscriber(t,e,r)}jt.toSubscriber=xi;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var tt={},At={};Object.defineProperty(At,"__esModule",{value:!0});function Ri(t){return t}At.identity=Ri,Object.defineProperty(tt,"__esModule",{value:!0});var Ai=At;function $i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qr(t)}tt.pipe=$i;function qr(t){return t.length===0?Ai.identity:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}tt.pipeFromArray=qr,Object.defineProperty(bt,"__esModule",{value:!0});var qi=wt,ki=jt,Di=Rt,Ui=tt,rt=Le,Mi=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,o=ki.toSubscriber(e,r,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||rt.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),rt.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){rt.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),qi.canReportError(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=kr(r),new r(function(i,o){var a;a=n.subscribe(function(s){try{e(s)}catch(v){o(v),a&&a.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Di.observable]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Ui.pipeFromArray(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=kr(e),new e(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();bt.Observable=Mi;function kr(t){if(t||(t=rt.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var $t={},Hi=Y&&Y.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty($t,"__esModule",{value:!0});var Li=Pe;function Fi(t,e){return function(n){return n.lift(new Ni(t,e))}}$t.filter=Fi;var Ni=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Bi(e,this.predicate,this.thisArg))},t}(),Bi=function(t){Hi(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(Li.Subscriber),nt={},zi=Y&&Y.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(nt,"__esModule",{value:!0});var Vi=Pe;function Wi(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Dr(t,e))}}nt.map=Wi;var Dr=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Xi(e,this.project,this.thisArg))},t}();nt.MapOperator=Dr;var Xi=function(t){zi(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Vi.Subscriber),Gi=bt,Ji=Gi.Observable,Qi=$t,Yi=Qi.filter,Ki=nt,Zi=Ki.map,Fe={Observable:Ji,filter:Yi,map:Zi},Ur=function(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(e&&e.query)return"params"in e?{query:e.query,params:e.params}:{query:e.query};var r=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(r))},Ee={};(function(t){function e(i){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(i)}var r=["image","file"],n=["before","after","replace"];t.dataset=function(i){if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(i))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},t.projectId=function(i){if(!/^[-a-z0-9]+$/i.test(i))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},t.validateAssetType=function(i){if(r.indexOf(i)===-1)throw new Error("Invalid asset type: ".concat(i,". Must be one of ").concat(r.join(", ")))},t.validateObject=function(i,o){if(o===null||e(o)!=="object"||Array.isArray(o))throw new Error("".concat(i,"() takes an object of properties"))},t.requireDocumentId=function(i,o){if(!o._id)throw new Error("".concat(i,'() requires that the document contains an ID ("_id" property)'));t.validateDocumentId(i,o._id)},t.validateDocumentId=function(i,o){if(typeof o!="string"||!/^[a-z0-9_.-]+$/i.test(o))throw new Error("".concat(i,'(): "').concat(o,'" is not a valid document ID'))},t.validateInsert=function(i,o,a){var s="insert(at, selector, items)";if(n.indexOf(i)===-1){var v=n.map(function(c){return'"'.concat(c,'"')}).join(", ");throw new Error("".concat(s,' takes an "at"-argument which is one of: ').concat(v))}if(typeof o!="string")throw new Error("".concat(s,' takes a "selector"-argument which must be a string'));if(!Array.isArray(a))throw new Error("".concat(s,' takes an "items"-argument which must be an array'))},t.hasDataset=function(i){if(!i.dataset)throw new Error("`dataset` must be provided to perform queries");return i.dataset||""},t.requestTag=function(i){if(typeof i!="string"||!/^[a-z0-9._-]{1,75}$/i.test(i))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return i}})(Ee);function qt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Se=W,eo=Ur,Mr=Ee,kt=Mr.validateObject,to=Mr.validateInsert;function Dt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.selection=t,this.operations=Se({},e),this.client=r}Se(Dt.prototype,{clone:function(){return new Dt(this.selection,Se({},this.operations),this.client)},set:function(e){return this._assign("set",e)},diffMatchPatch:function(e){return kt("diffMatchPatch",e),this._assign("diffMatchPatch",e)},unset:function(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Se({},this.operations,{unset:e}),this},setIfMissing:function(e){return this._assign("setIfMissing",e)},replace:function(e){return kt("replace",e),this._set("set",{$:e})},inc:function(e){return this._assign("inc",e)},dec:function(e){return this._assign("dec",e)},insert:function(e,r,n){var i;return to(e,r,n),this._assign("insert",(i={},qt(i,e,r),qt(i,"items",n),i))},append:function(e,r){return this.insert("after","".concat(e,"[-1]"),r)},prepend:function(e,r){return this.insert("before","".concat(e,"[0]"),r)},splice:function(e,r,n,i){var o=typeof n>"u"||n===-1,a=r<0?r-1:r,s=o?-1:Math.max(0,r+n),v=a<0&&s>=0?"":s,c="".concat(e,"[").concat(a,":").concat(v,"]");return this.insert("replace",c,i||[])},ifRevisionId:function(e){return this.operations.ifRevisionID=e,this},serialize:function(){return Se(eo(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var r=typeof this.selection=="string",n=Se({returnFirst:r,returnDocuments:!0},e);return this.client.mutate({patch:this.serialize()},n)},reset:function(){return this.operations={},this},_set:function(e,r){return this._assign(e,r,!1)},_assign:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return kt(e,r),this.operations=Se({},this.operations,qt({},e,Se({},n&&this.operations[e]||{},r))),this}});var Ut=Dt;function Hr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Mt=W,xe=Ee,Ht=Ut,ro={returnDocuments:!1};function Lt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this.trxId=r,this.operations=t,this.client=e}Mt(Lt.prototype,{clone:function(){return new Lt(this.operations.slice(0),this.client,this.trxId)},create:function(e){return xe.validateObject("create",e),this._add({create:e})},createIfNotExists:function(e){var r="createIfNotExists";return xe.validateObject(r,e),xe.requireDocumentId(r,e),this._add(Hr({},r,e))},createOrReplace:function(e){var r="createOrReplace";return xe.validateObject(r,e),xe.requireDocumentId(r,e),this._add(Hr({},r,e))},delete:function(e){return xe.validateDocumentId("delete",e),this._add({delete:{id:e}})},patch:function(e,r){var n=typeof r=="function",i=e instanceof Ht;if(i)return this._add({patch:e.serialize()});if(n){var o=r(new Ht(e,{},this.client));if(!(o instanceof Ht))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:Mt({id:e},r)})},transactionId:function(e){return e?(this.trxId=e,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(e){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),Mt({transactionId:this.trxId},ro,e||{}))},reset:function(){return this.operations=[],this},_add:function(e){return this.operations.push(e),this}});var Lr=Lt,no=["tag"];function io(t,e){if(t==null)return{};var r=oo(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oo(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var Re=encodeURIComponent,Fr=function(t){var e=t.query,r=t.params,n=r===void 0?{}:r,i=t.options,o=i===void 0?{}:i,a=o.tag,s=io(o,no),v="query=".concat(Re(e)),c=a?"?tag=".concat(Re(a),"&").concat(v):"?".concat(v),g=Object.keys(n).reduce(function(u,d){return"".concat(u,"&").concat(Re("$".concat(d)),"=").concat(Re(JSON.stringify(n[d])))},c);return Object.keys(s).reduce(function(u,d){return o[d]?"".concat(u,"&").concat(Re(d),"=").concat(Re(o[d])):u},g)},it={},ao={get exports(){return it},set exports(t){it=t}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(t,e){(function(r){var n=r.setTimeout,i=r.clearTimeout,o=r.XMLHttpRequest,a=r.XDomainRequest,s=r.ActiveXObject,v=r.EventSource,c=r.document,g=r.Promise,u=r.fetch,d=r.Response,O=r.TextDecoder,j=r.TextEncoder,S=r.AbortController;if(typeof window<"u"&&typeof c<"u"&&!("readyState"in c)&&c.body==null&&(c.readyState="loading",window.addEventListener("load",function(l){c.readyState="complete"},!1)),o==null&&s!=null&&(o=function(){return new s("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(l){function b(){}return b.prototype=l,new b}),Date.now||(Date.now=function(){return new Date().getTime()}),S==null){var T=u;u=function(l,b){var w=b.signal;return T(l,{headers:b.headers,credentials:b.credentials,cache:b.cache}).then(function(m){var I=m.body.getReader();return w._reader=I,w._aborted&&w._reader.cancel(),{status:m.status,statusText:m.statusText,headers:m.headers,body:{getReader:function(){return I}}}})},S=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function x(){this.bitsNeeded=0,this.codePoint=0}x.prototype.decode=function(l){function b(k,U,P){if(P===1)return k>=128>>U&&k<<U<=2047;if(P===2)return k>=2048>>U&&k<<U<=55295||k>=57344>>U&&k<<U<=65535;if(P===3)return k>=65536>>U&&k<<U<=1114111;throw new Error}function w(k,U){if(k===6*1)return U>>6>15?3:U>31?2:1;if(k===6*2)return U>15?3:2;if(k===6*3)return 3;throw new Error}for(var m=65533,I="",E=this.bitsNeeded,R=this.codePoint,F=0;F<l.length;F+=1){var $=l[F];E!==0&&($<128||$>191||!b(R<<6|$&63,E-6,w(E,R)))&&(E=0,R=m,I+=String.fromCharCode(R)),E===0?($>=0&&$<=127?(E=0,R=$):$>=192&&$<=223?(E=6*1,R=$&31):$>=224&&$<=239?(E=6*2,R=$&15):$>=240&&$<=247?(E=6*3,R=$&7):(E=0,R=m),E!==0&&!b(R,E,w(E,R))&&(E=0,R=m)):(E-=6,R=R<<6|$&63),E===0&&(R<=65535?I+=String.fromCharCode(R):(I+=String.fromCharCode(55296+(R-65535-1>>10)),I+=String.fromCharCode(56320+(R-65535-1&1023))))}return this.bitsNeeded=E,this.codePoint=R,I};var D=function(){try{return new O().decode(new j().encode("test"),{stream:!0})==="test"}catch(l){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+l)}return!1};(O==null||j==null||!D())&&(O=x);var q=function(){};function M(l){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=q,this.onload=q,this.onerror=q,this.onreadystatechange=q,this._contentType="",this._xhr=l,this._sendTimeout=0,this._abort=q}M.prototype.open=function(l,b){this._abort(!0);var w=this,m=this._xhr,I=1,E=0;this._abort=function(P){w._sendTimeout!==0&&(i(w._sendTimeout),w._sendTimeout=0),(I===1||I===2||I===3)&&(I=4,m.onload=q,m.onerror=q,m.onabort=q,m.onprogress=q,m.onreadystatechange=q,m.abort(),E!==0&&(i(E),E=0),P||(w.readyState=4,w.onabort(null),w.onreadystatechange())),I=0};var R=function(){if(I===1){var P=0,N="",be=void 0;if("contentType"in m)P=200,N="OK",be=m.contentType;else try{P=m.status,N=m.statusText,be=m.getResponseHeader("Content-Type")}catch{P=0,N="",be=void 0}P!==0&&(I=2,w.readyState=2,w.status=P,w.statusText=N,w._contentType=be,w.onreadystatechange())}},F=function(){if(R(),I===2||I===3){I=3;var P="";try{P=m.responseText}catch{}w.readyState=3,w.responseText=P,w.onprogress()}},$=function(P,N){if((N==null||N.preventDefault==null)&&(N={preventDefault:q}),F(),I===1||I===2||I===3){if(I=4,E!==0&&(i(E),E=0),w.readyState=4,P==="load")w.onload(N);else if(P==="error")w.onerror(N);else if(P==="abort")w.onabort(N);else throw new TypeError;w.onreadystatechange()}},k=function(P){m!=null&&(m.readyState===4?(!("onload"in m)||!("onerror"in m)||!("onabort"in m))&&$(m.responseText===""?"error":"load",P):m.readyState===3?"onprogress"in m||F():m.readyState===2&&R())},U=function(){E=n(function(){U()},500),m.readyState===3&&F()};"onload"in m&&(m.onload=function(P){$("load",P)}),"onerror"in m&&(m.onerror=function(P){$("error",P)}),"onabort"in m&&(m.onabort=function(P){$("abort",P)}),"onprogress"in m&&(m.onprogress=F),"onreadystatechange"in m&&(m.onreadystatechange=function(P){k(P)}),("contentType"in m||!("ontimeout"in o.prototype))&&(b+=(b.indexOf("?")===-1?"?":"&")+"padding=true"),m.open(l,b,!0),"readyState"in m&&(E=n(function(){U()},0))},M.prototype.abort=function(){this._abort(!1)},M.prototype.getResponseHeader=function(l){return this._contentType},M.prototype.setRequestHeader=function(l,b){var w=this._xhr;"setRequestHeader"in w&&w.setRequestHeader(l,b)},M.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},M.prototype.send=function(){if((!("ontimeout"in o.prototype)||!("sendAsBinary"in o.prototype)&&!("mozAnon"in o.prototype))&&c!=null&&c.readyState!=null&&c.readyState!=="complete"){var l=this;l._sendTimeout=n(function(){l._sendTimeout=0,l.send()},4);return}var b=this._xhr;"withCredentials"in b&&(b.withCredentials=this.withCredentials);try{b.send(void 0)}catch(w){throw w}};function ae(l){return l.replace(/[A-Z]/g,function(b){return String.fromCharCode(b.charCodeAt(0)+32)})}function se(l){for(var b=Object.create(null),w=l.split(`\r
`),m=0;m<w.length;m+=1){var I=w[m],E=I.split(": "),R=E.shift(),F=E.join(": ");b[ae(R)]=F}this._map=b}se.prototype.get=function(l){return this._map[ae(l)]},o!=null&&o.HEADERS_RECEIVED==null&&(o.HEADERS_RECEIVED=2);function ve(){}ve.prototype.open=function(l,b,w,m,I,E,R){l.open("GET",I);var F=0;l.onprogress=function(){var k=l.responseText,U=k.slice(F);F+=U.length,w(U)},l.onerror=function(k){k.preventDefault(),m(new Error("NetworkError"))},l.onload=function(){m(null)},l.onabort=function(){m(null)},l.onreadystatechange=function(){if(l.readyState===o.HEADERS_RECEIVED){var k=l.status,U=l.statusText,P=l.getResponseHeader("Content-Type"),N=l.getAllResponseHeaders();b(k,U,P,new se(N))}},l.withCredentials=E;for(var $ in R)Object.prototype.hasOwnProperty.call(R,$)&&l.setRequestHeader($,R[$]);return l.send(),l};function ye(l){this._headers=l}ye.prototype.get=function(l){return this._headers.get(l)};function L(){}L.prototype.open=function(l,b,w,m,I,E,R){var F=null,$=new S,k=$.signal,U=new O;return u(I,{headers:R,credentials:E?"include":"same-origin",signal:k,cache:"no-store"}).then(function(P){return F=P.body.getReader(),b(P.status,P.statusText,P.headers.get("Content-Type"),new ye(P.headers)),new g(function(N,be){var Ve=function(){F.read().then(function(ne){if(ne.done)N(void 0);else{var K=U.decode(ne.value,{stream:!0});w(K),Ve()}}).catch(function(ne){be(ne)})};Ve()})}).catch(function(P){if(P.name!=="AbortError")return P}).then(function(P){m(P)}),{abort:function(){F!=null&&F.cancel(),$.abort()}}};function B(){this._listeners=Object.create(null)}function p(l){n(function(){throw l},0)}B.prototype.dispatchEvent=function(l){l.target=this;var b=this._listeners[l.type];if(b!=null)for(var w=b.length,m=0;m<w;m+=1){var I=b[m];try{typeof I.handleEvent=="function"?I.handleEvent(l):I.call(this,l)}catch(E){p(E)}}},B.prototype.addEventListener=function(l,b){l=String(l);var w=this._listeners,m=w[l];m==null&&(m=[],w[l]=m);for(var I=!1,E=0;E<m.length;E+=1)m[E]===b&&(I=!0);I||m.push(b)},B.prototype.removeEventListener=function(l,b){l=String(l);var w=this._listeners,m=w[l];if(m!=null){for(var I=[],E=0;E<m.length;E+=1)m[E]!==b&&I.push(m[E]);I.length===0?delete w[l]:w[l]=I}};function h(l){this.type=l,this.target=void 0}function y(l,b){h.call(this,l),this.data=b.data,this.lastEventId=b.lastEventId}y.prototype=Object.create(h.prototype);function f(l,b){h.call(this,l),this.status=b.status,this.statusText=b.statusText,this.headers=b.headers}f.prototype=Object.create(h.prototype);function C(l,b){h.call(this,l),this.error=b.error}C.prototype=Object.create(h.prototype);var _=-1,A=0,H=1,G=2,J=-1,z=0,re=1,he=2,ue=3,ge=/^text\/event\-stream(;.*)?$/i,qe=1e3,cr=18e6,ze=function(l,b){var w=l==null?b:parseInt(l,10);return w!==w&&(w=b),me(w)},me=function(l){return Math.min(Math.max(l,qe),cr)},ke=function(l,b,w){try{typeof b=="function"&&b.call(l,w)}catch(m){p(m)}};function fe(l,b){B.call(this),b=b||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Qs(this,l,b)}function Gs(){return o!=null&&"withCredentials"in o.prototype||a==null?new o:new a}var Js=u!=null&&d!=null&&"body"in d.prototype;function Qs(l,b,w){b=String(b);var m=Boolean(w.withCredentials),I=w.lastEventIdQueryParameterName||"lastEventId",E=me(1e3),R=ze(w.heartbeatTimeout,45e3),F="",$=E,k=!1,U=0,P=w.headers||{},N=w.Transport,be=Js&&N==null?void 0:new M(N!=null?new N:Gs()),Ve=N!=null&&typeof N!="string"?new N:be==null?new L:new ve,ne=void 0,K=0,le=_,De="",dt="",we="",ht="",Z=z,fr=0,Ce=0,Ys=function(X,V,ie,oe){if(le===A)if(X===200&&ie!=null&&ge.test(ie)){le=H,k=Date.now(),$=E,l.readyState=H;var ee=new f("open",{status:X,statusText:V,headers:oe});l.dispatchEvent(ee),ke(l,l.onopen,ee)}else{var Q="";X!==200?(V&&(V=V.replace(/\s+/g," ")),Q="EventSource's response has a status "+X+" "+V+" that is not 200. Aborting the connection."):Q="EventSource's response has a Content-Type specifying an unsupported type: "+(ie==null?"-":ie.replace(/\s+/g," "))+". Aborting the connection.",lr();var ee=new f("error",{status:X,statusText:V,headers:oe});l.dispatchEvent(ee),ke(l,l.onerror,ee),console.error(Q)}},Ks=function(X){if(le===H){for(var V=-1,ie=0;ie<X.length;ie+=1){var oe=X.charCodeAt(ie);(oe===`
`.charCodeAt(0)||oe==="\r".charCodeAt(0))&&(V=ie)}var ee=(V!==-1?ht:"")+X.slice(0,V+1);ht=(V===-1?ht:"")+X.slice(V+1),X!==""&&(k=Date.now(),U+=X.length);for(var Q=0;Q<ee.length;Q+=1){var oe=ee.charCodeAt(Q);if(Z===J&&oe===`
`.charCodeAt(0))Z=z;else if(Z===J&&(Z=z),oe==="\r".charCodeAt(0)||oe===`
`.charCodeAt(0)){if(Z!==z){Z===re&&(Ce=Q+1);var _e=ee.slice(fr,Ce-1),Oe=ee.slice(Ce+(Ce<Q&&ee.charCodeAt(Ce)===" ".charCodeAt(0)?1:0),Q);_e==="data"?(De+=`
`,De+=Oe):_e==="id"?dt=Oe:_e==="event"?we=Oe:_e==="retry"?(E=ze(Oe,E),$=E):_e==="heartbeatTimeout"&&(R=ze(Oe,R),K!==0&&(i(K),K=n(function(){We()},R)))}if(Z===z){if(De!==""){F=dt,we===""&&(we="message");var Ue=new y(we,{data:De.slice(1),lastEventId:dt});if(l.dispatchEvent(Ue),we==="open"?ke(l,l.onopen,Ue):we==="message"?ke(l,l.onmessage,Ue):we==="error"&&ke(l,l.onerror,Ue),le===G)return}De="",we=""}Z=oe==="\r".charCodeAt(0)?J:z}else Z===z&&(fr=Q,Z=re),Z===re?oe===":".charCodeAt(0)&&(Ce=Q+1,Z=he):Z===he&&(Z=ue)}}},Un=function(X){if(le===H||le===A){le=_,K!==0&&(i(K),K=0),K=n(function(){We()},$),$=me(Math.min(E*16,$*2)),l.readyState=A;var V=new C("error",{error:X});l.dispatchEvent(V),ke(l,l.onerror,V),X!=null&&console.error(X)}},lr=function(){le=G,ne!=null&&(ne.abort(),ne=void 0),K!==0&&(i(K),K=0),l.readyState=G},We=function(){if(K=0,le!==_){if(!k&&ne!=null)Un(new Error("No activity within "+R+" milliseconds. "+(le===A?"No response received.":U+" chars received.")+" Reconnecting.")),ne!=null&&(ne.abort(),ne=void 0);else{var X=Math.max((k||Date.now())+R-Date.now(),1);k=!1,K=n(function(){We()},X)}return}k=!1,U=0,K=n(function(){We()},R),le=A,De="",we="",dt=F,ht="",fr=0,Ce=0,Z=z;var V=b;if(b.slice(0,5)!=="data:"&&b.slice(0,5)!=="blob:"&&F!==""){var ie=b.indexOf("?");V=ie===-1?b:b.slice(0,ie+1)+b.slice(ie+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Oe,Ue){return Ue===I?"":Oe}),V+=(b.indexOf("?")===-1?"?":"&")+I+"="+encodeURIComponent(F)}var oe=l.withCredentials,ee={};ee.Accept="text/event-stream";var Q=l.headers;if(Q!=null)for(var _e in Q)Object.prototype.hasOwnProperty.call(Q,_e)&&(ee[_e]=Q[_e]);try{ne=Ve.open(be,Ys,Ks,Un,V,oe,ee)}catch(Oe){throw lr(),Oe}};l.url=b,l.readyState=A,l.withCredentials=m,l.headers=P,l._close=lr,We()}fe.prototype=Object.create(B.prototype),fe.prototype.CONNECTING=A,fe.prototype.OPEN=H,fe.prototype.CLOSED=G,fe.prototype.close=function(){this._close()},fe.CONNECTING=A,fe.OPEN=H,fe.CLOSED=G,fe.prototype.withCredentials=void 0;var Dn=v;o!=null&&(v==null||!("withCredentials"in v.prototype))&&(Dn=fe),function(l){{var b=l(e);b!==void 0&&(t.exports=b)}}(function(l){l.EventSourcePolyfill=fe,l.NativeEventSource=v,l.EventSource=Dn})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:Y:globalThis)})(ao,it);var so=it,uo=so.EventSourcePolyfill,co=function(t,e){return e.reduce(function(r,n){return typeof t[n]>"u"||(r[n]=t[n]),r},{})},fo=function(t,e){return Object.keys(e).concat(Object.keys(t)).reduce(function(r,n){return r[n]=typeof t[n]>"u"?e[n]:t[n],r},{})};function Nr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nr(Object(r),!0).forEach(function(n){lo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var po=W,ho=Fe,zr=ho.Observable,vo=uo,yo=co,go=fo,mo=Fr,bo=16e3-1200,Vr=vo,wo=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],_o={includeResult:!0},Oo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.clientConfig,o=i.url,a=i.token,s=i.withCredentials,v=i.requestTagPrefix,c=n.tag&&v?[v,n.tag].join("."):n.tag,g=Br(Br({},go(n,_o)),{},{tag:c}),u=yo(g,wo),d=mo({query:e,params:r,options:u,tag:c}),O="".concat(o).concat(this.getDataUrl("listen",d));if(O.length>bo)return new zr(function(x){return x.error(new Error("Query too large for listener"))});var j=g.events?g.events:["mutation"],S=j.indexOf("reconnect")!==-1,T={};return(a||s)&&(T.withCredentials=!0),a&&(T.headers={Authorization:"Bearer ".concat(a)}),new zr(function(x){var D=p(),q,M=!1;function ae(){M||(B(),!M&&D.readyState===Vr.CLOSED&&(L(),clearTimeout(q),q=setTimeout(h,100)))}function se(f){x.error(Eo(f))}function ve(f){var C=Wr(f);return C instanceof Error?x.error(C):x.next(C)}function ye(f){M=!0,L(),x.complete()}function L(){D.removeEventListener("error",ae,!1),D.removeEventListener("channelError",se,!1),D.removeEventListener("disconnect",ye,!1),j.forEach(function(f){return D.removeEventListener(f,ve,!1)}),D.close()}function B(){S&&x.next({type:"reconnect"})}function p(){var f=new Vr(O,T);return f.addEventListener("error",ae,!1),f.addEventListener("channelError",se,!1),f.addEventListener("disconnect",ye,!1),j.forEach(function(C){return f.addEventListener(C,ve,!1)}),f}function h(){D=p()}function y(){M=!0,L()}return y})};function Wr(t){try{var e=t.data&&JSON.parse(t.data)||{};return po({type:t.type},e)}catch(r){return r}}function Eo(t){if(t instanceof Error)return t;var e=Wr(t);return e instanceof Error?e:new Error(So(e))}function So(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}function Xr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Io=W,Gr=Fe,Ne=Gr.map,Ft=Gr.filter,Nt=Ee,Po=Ur,Co=Fr,Jr=Lr,Qr=Ut,To=Oo,jo=function(e,r){var n=typeof e>"u"?r:e;return e===!1?void 0:n},xo=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:jo(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},Bt=function(e){return e.type==="response"},Ro=function(e){return e.body},Ao=function(e,r){return e.reduce(function(n,i){return n[r(i)]=i,n},Object.create(null))},ot=function(e){return e.toPromise()},$o=11264,qo={listen:To,getDataUrl:function(e,r){var n=this.clientConfig,i=Nt.hasDataset(n),o="/".concat(e,"/").concat(i),a=r?"".concat(o,"/").concat(r):o;return"/data".concat(a).replace(/\/($|\?)/,"$1")},fetch:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.filterResponse===!1?function(a){return a}:function(a){return a.result},o=this._dataRequest("query",{query:e,params:r},n).pipe(Ne(i));return this.isPromiseAPI()?ot(o):o},getDocument:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={uri:this.getDataUrl("doc",e),json:!0,tag:r.tag},i=this._requestObservable(n).pipe(Ft(Bt),Ne(function(o){return o.body.documents&&o.body.documents[0]}));return this.isPromiseAPI()?ot(i):i},getDocuments:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={uri:this.getDataUrl("doc",e.join(",")),json:!0,tag:r.tag},i=this._requestObservable(n).pipe(Ft(Bt),Ne(function(o){var a=Ao(o.body.documents||[],function(s){return s._id});return e.map(function(s){return a[s]||null})}));return this.isPromiseAPI()?ot(i):i},create:function(e,r){return this._create(e,"create",r)},createIfNotExists:function(e,r){return Nt.requireDocumentId("createIfNotExists",e),this._create(e,"createIfNotExists",r)},createOrReplace:function(e,r){return Nt.requireDocumentId("createOrReplace",e),this._create(e,"createOrReplace",r)},patch:function(e,r){return new Qr(e,r,this)},delete:function(e,r){return this.dataRequest("mutate",{mutations:[{delete:Po(e)}]},r)},mutate:function(e,r){var n=e instanceof Qr||e instanceof Jr?e.serialize():e,i=Array.isArray(n)?n:[n],o=r&&r.transactionId;return this.dataRequest("mutate",{mutations:i,transactionId:o},r)},transaction:function(e){return new Jr(e,this)},dataRequest:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this._dataRequest(e,r,n);return this.isPromiseAPI()?ot(i):i},_dataRequest:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=e==="mutate",o=e==="query",a=!i&&Co(r),s=!i&&a.length<$o,v=s?a:"",c=n.returnFirst,g=n.timeout,u=n.token,d=n.tag,O=n.headers,j=this.getDataUrl(e,v),S={method:s?"GET":"POST",uri:j,json:!0,body:s?void 0:r,query:i&&xo(n),timeout:g,headers:O,token:u,tag:d,canUseCdn:o};return this._requestObservable(S).pipe(Ft(Bt),Ne(Ro),Ne(function(T){if(!i)return T;var x=T.results||[];if(n.returnDocuments)return c?x[0]&&x[0].document:x.map(function(M){return M.document});var D=c?"documentId":"documentIds",q=c?x[0]&&x[0].id:x.map(function(M){return M.id});return Xr({transactionId:T.transactionId,results:x},D,q)}))},_create:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Xr({},r,e),o=Io({returnFirst:!0,returnDocuments:!0},n);return this.dataRequest("mutate",{mutations:[i]},o)}},ko=W,Do=Ee;function Yr(t){this.request=t.request.bind(t)}ko(Yr.prototype,{create:function(e,r){return this._modify("PUT",e,r)},edit:function(e,r){return this._modify("PATCH",e,r)},delete:function(e){return this._modify("DELETE",e)},list:function(){return this.request({uri:"/datasets"})},_modify:function(e,r,n){return Do.dataset(r),this.request({method:e,uri:"/datasets/".concat(r),body:n})}});var Uo=Yr,Mo=W;function Kr(t){this.client=t}Mo(Kr.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(e){return this.client.request({uri:"/projects/".concat(e)})}});var Ho=Kr,Lo=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t[r])));return e.length>0?"?".concat(e.join("&")):""};function Fo(t,e){return Vo(t)||zo(t,e)||Bo(t,e)||No()}function No(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bo(t,e){if(t){if(typeof t=="string")return Zr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zr(t,e)}}function Zr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zo(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(v){o=!0,s=v}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function Vo(t){if(Array.isArray(t))return t}var en=W,tn=Fe,Wo=tn.map,Xo=tn.filter,Go=Lo,at=Ee;function rn(t){this.client=t}function Jo(t,e){return typeof window>"u"||!(e instanceof window.File)?t:en({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}en(rn.prototype,{upload:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};at.validateAssetType(e);var i=n.extract||void 0;i&&!i.length&&(i=["none"]);var o=at.hasDataset(this.client.clientConfig),a=e==="image"?"images":"files",s=Jo(n,r),v=s.tag,c=s.label,g=s.title,u=s.description,d=s.creditLine,O=s.filename,j=s.source,S={label:c,title:g,description:u,filename:O,meta:i,creditLine:d};j&&(S.sourceId=j.id,S.sourceName=j.name,S.sourceUrl=j.url);var T=this.client._requestObservable({tag:v,method:"POST",timeout:s.timeout||0,uri:"/assets/".concat(a,"/").concat(o),headers:s.contentType?{"Content-Type":s.contentType}:{},query:S,body:r});return this.client.isPromiseAPI()?T.pipe(Xo(function(x){return x.type==="response"}),Wo(function(x){return x.body.document})).toPromise():T},delete:function(e,r){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var n=r||"";return/^(image|file)-/.test(n)?e._id&&(n=e._id):n="".concat(e,"-").concat(n),at.hasDataset(this.client.clientConfig),this.client.delete(n)},getImageUrl:function(e,r){var n=e._ref||e;if(typeof n!="string")throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(n))throw new Error('Unsupported asset ID "'.concat(n,'". URL generation only works for auto-generated IDs.'));var i=n.split("-"),o=Fo(i,4),a=o[1],s=o[2],v=o[3];at.hasDataset(this.client.clientConfig);var c=this.client.clientConfig,g=c.projectId,u=c.dataset,d=r?Go(r):"";return"https://cdn.sanity.io/images/".concat(g,"/").concat(u,"/").concat(a,"-").concat(s,".").concat(v).concat(d)}});var Qo=rn,Yo=W;function nn(t){this.client=t}Yo(nn.prototype,{getById:function(e){return this.client.request({uri:"/users/".concat(e)})}});var Ko=nn,Zo=W;function on(t){this.client=t}Zo(on.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}});var ea=on,zt={},ta={get exports(){return zt},set exports(t){zt=t}},ra=function(){var e=[];return{subscribe:r,publish:n};function r(i){return e.push(i),function(){var a=e.indexOf(i);a>-1&&e.splice(a,1)}}function n(){for(var i=0;i<e.length;i++)e[i].apply(null,arguments)}},na=function(t){var e=function(n,i){for(var o=n==="onError",a=i,s=arguments.length,v=new Array(s>2?s-2:0),c=2;c<s;c++)v[c-2]=arguments[c];for(var g=0;g<t[n].length;g++){var u=t[n][g];if(a=u.apply(void 0,[a].concat(v)),o&&!a)break}return a};return e},ia=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},Vt={},oa=Object.prototype.hasOwnProperty,aa;function an(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function sn(t){try{return encodeURIComponent(t)}catch{return null}}function sa(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var i=an(n[1]),o=an(n[2]);i===null||o===null||i in r||(r[i]=o)}return r}function ua(t,e){e=e||"";var r=[],n,i;typeof e!="string"&&(e="?");for(i in t)if(oa.call(t,i)){if(n=t[i],!n&&(n===null||n===aa||isNaN(n))&&(n=""),i=sn(i),n=sn(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?e+r.join("&"):""}Vt.stringify=ua,Vt.parse=sa;var un=ia,st=Vt,ca=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,cn=/[\n\r\t]/g,fa=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,fn=/:\d+$/,la=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,pa=/^[a-zA-Z]:/;function Wt(t){return(t||"").toString().replace(ca,"")}var Xt=[["#","hash"],["?","query"],function(e,r){return pe(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ln={hash:1,query:1};function pn(t){var e;typeof window<"u"?e=window:typeof Y<"u"?e=Y:typeof self<"u"?e=self:e={};var r=e.location||{};t=t||r;var n={},i=typeof t,o;if(t.protocol==="blob:")n=new de(unescape(t.pathname),{});else if(i==="string"){n=new de(t,{});for(o in ln)delete n[o]}else if(i==="object"){for(o in t)o in ln||(n[o]=t[o]);n.slashes===void 0&&(n.slashes=fa.test(t.href))}return n}function pe(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function dn(t,e){t=Wt(t),t=t.replace(cn,""),e=e||{};var r=la.exec(t),n=r[1]?r[1].toLowerCase():"",i=!!r[2],o=!!r[3],a=0,s;return i?o?(s=r[2]+r[3]+r[4],a=r[2].length+r[3].length):(s=r[2]+r[4],a=r[2].length):o?(s=r[3]+r[4],a=r[3].length):s=r[4],n==="file:"?a>=2&&(s=s.slice(2)):pe(n)?s=r[4]:n?i&&(s=s.slice(2)):a>=2&&pe(e.protocol)&&(s=r[4]),{protocol:n,slashes:i||pe(n),slashesCount:a,rest:s}}function da(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,i=r[n-1],o=!1,a=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),a++):a&&(n===0&&(o=!0),r.splice(n,1),a--);return o&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function de(t,e,r){if(t=Wt(t),t=t.replace(cn,""),!(this instanceof de))return new de(t,e,r);var n,i,o,a,s,v,c=Xt.slice(),g=typeof e,u=this,d=0;for(g!=="object"&&g!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=st.parse),e=pn(e),i=dn(t||"",e),n=!i.protocol&&!i.slashes,u.slashes=i.slashes||n&&e.slashes,u.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||pa.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!pe(u.protocol)))&&(c[3]=[/(.*)/,"pathname"]);d<c.length;d++){if(a=c[d],typeof a=="function"){t=a(t,u);continue}o=a[0],v=a[1],o!==o?u[v]=t:typeof o=="string"?(s=o==="@"?t.lastIndexOf(o):t.indexOf(o),~s&&(typeof a[2]=="number"?(u[v]=t.slice(0,s),t=t.slice(s+a[2])):(u[v]=t.slice(s),t=t.slice(0,s)))):(s=o.exec(t))&&(u[v]=s[1],t=t.slice(0,s.index)),u[v]=u[v]||n&&a[3]&&e[v]||"",a[4]&&(u[v]=u[v].toLowerCase())}r&&(u.query=r(u.query)),n&&e.slashes&&u.pathname.charAt(0)!=="/"&&(u.pathname!==""||e.pathname!=="")&&(u.pathname=da(u.pathname,e.pathname)),u.pathname.charAt(0)!=="/"&&pe(u.protocol)&&(u.pathname="/"+u.pathname),un(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(s=u.auth.indexOf(":"),~s?(u.username=u.auth.slice(0,s),u.username=encodeURIComponent(decodeURIComponent(u.username)),u.password=u.auth.slice(s+1),u.password=encodeURIComponent(decodeURIComponent(u.password))):u.username=encodeURIComponent(decodeURIComponent(u.auth)),u.auth=u.password?u.username+":"+u.password:u.username),u.origin=u.protocol!=="file:"&&pe(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}function ha(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||st.parse)(e)),n[t]=e;break;case"port":n[t]=e,un(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,fn.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==i?i+e:e}else n[t]=e;break;case"username":case"password":n[t]=encodeURIComponent(e);break;case"auth":var o=e.indexOf(":");~o?(n.username=e.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var a=0;a<Xt.length;a++){var s=Xt[a];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&pe(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function va(t){(!t||typeof t!="function")&&(t=st.stringify);var e,r=this,n=r.host,i=r.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var o=i+(r.protocol&&r.slashes||pe(r.protocol)?"//":"");return r.username?(o+=r.username,r.password&&(o+=":"+r.password),o+="@"):r.password?(o+=":"+r.password,o+="@"):r.protocol!=="file:"&&pe(r.protocol)&&!n&&r.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||fn.test(r.hostname)&&!r.port)&&(n+=":"),o+=n+r.pathname,e=typeof r.query=="object"?t(r.query):r.query,e&&(o+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(o+=r.hash),o}de.prototype={set:ha,toString:va},de.extractProtocol=dn,de.location=pn,de.trimLeft=Wt,de.qs=st;var ya=de,Gt=W,ga=ya,ma=typeof navigator>"u"?!1:navigator.product==="ReactNative",ba=Object.prototype.hasOwnProperty,Jt={timeout:ma?6e4:12e4},wa=function(t){var e=typeof t=="string"?Gt({url:t},Jt):Gt({},Jt,t),r=ga(e.url,{},!0);return e.timeout=hn(e.timeout),e.query&&(r.query=Gt({},r.query,Oa(e.query))),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=r.toString(_a),e};function _a(t){var e=[];for(var r in t)ba.call(t,r)&&n(r,t[r]);return e.length?e.join("&"):"";function n(i,o){Array.isArray(o)?o.forEach(function(a){return n(i,a)}):e.push([i,o].map(encodeURIComponent).join("="))}}function hn(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;var e=Number(t);return isNaN(e)?hn(Jt.timeout):{connect:e,socket:e}}function Oa(t){var e={};for(var r in t)t[r]!==void 0&&(e[r]=t[r]);return e}var Ea=/^https?:\/\//i,Sa=function(t){if(!Ea.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))},Qt={},Ia={get exports(){return Qt},set exports(t){Qt=t}},vn=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/,Pa={regex:vn,parse:function(t){var e=vn.exec(t);return e?{protocol:(e[1]||"").toLowerCase()||void 0,hostname:(e[5]||"").toLowerCase()||void 0,port:e[6]||void 0}:{}}},yn=Pa,Ca=function(t,e,r){if(t===e)return!0;var n=yn.parse(t,!1,!0),i=yn.parse(e,!1,!0),o=n.port|0||(n.protocol==="https"?443:80),a=i.port|0||(i.protocol==="https"?443:80),s={proto:n.protocol===i.protocol,hostname:n.hostname===i.hostname,port:o===a};return s.proto&&s.hostname&&(s.port||r)},Yt=function(t){return t.replace(/^\s+|\s+$/g,"")},Ta=function(t){return Object.prototype.toString.call(t)==="[object Array]"},ja=function(t){if(!t)return{};for(var e={},r=Yt(t).split(`
`),n=0;n<r.length;n++){var i=r[n],o=i.indexOf(":"),a=Yt(i.slice(0,o)).toLowerCase(),s=Yt(i.slice(o+1));typeof e[a]>"u"?e[a]=s:Ta(e[a])?e[a].push(s):e[a]=[e[a],s]}return e};function Ae(){this.readyState=0}Ae.prototype.open=function(t,e){this._method=t,this._url=e,this._resHeaders="",this.readyState=1,this.onreadystatechange()},Ae.prototype.abort=function(){this._controller&&this._controller.abort()},Ae.prototype.getAllResponseHeaders=function(){return this._resHeaders},Ae.prototype.setRequestHeader=function(t,e){this._headers=this._headers||{},this._headers[t]=e},Ae.prototype.send=function(t){var e=this,r=this._controller=typeof AbortController=="function"&&new AbortController,n=this.responseType!=="arraybuffer",i={method:this._method,headers:this._headers,signal:r&&r.signal,body:t};typeof window<"u"&&(i.credentials=this.withCredentials?"include":"omit"),fetch(this._url,i).then(function(o){return o.headers.forEach(function(a,s){e._resHeaders+="".concat(s,": ").concat(a,`\r
`)}),e.status=o.status,e.statusText=o.statusText,e.readyState=3,n?o.text():o.arrayBuffer()}).then(function(o){n?e.responseText=o:e.response=o,e.readyState=4,e.onreadystatechange()}).catch(function(o){if(o.name==="AbortError"){e.onabort();return}e.onerror(o)})};var xa=Ae,Ra=Ca,Aa=ja,gn=xa,$a=function(){},Ie=typeof window>"u"?void 0:window,mn=Ie?"xhr":"fetch",ut=typeof XMLHttpRequest=="function"?XMLHttpRequest:$a,qa="withCredentials"in new ut,ka=typeof XDomainRequest>"u"?void 0:XDomainRequest,bn=qa?ut:ka;Ie||(ut=gn,bn=gn);var Da=function(t,e){var r=t.options,n=t.applyMiddleware("finalizeOptions",r),i={},o=Ie&&Ie.location&&!Ra(Ie.location.href,n.url),a=t.applyMiddleware("interceptRequest",void 0,{adapter:mn,context:t});if(a){var s=setTimeout(e,0,null,a),v=function(){return clearTimeout(s)};return{abort:v}}var c=o?new bn:new ut,g=Ie&&Ie.XDomainRequest&&c instanceof Ie.XDomainRequest,u=n.headers,d=n.timeout,O=!1,j=!1,S=!1;c.onerror=se,c.ontimeout=se,c.onabort=function(){ae(!0),O=!0},c.onprogress=function(){};var T=g?"onload":"onreadystatechange";if(c[T]=function(){M(),!(O||c.readyState!==4&&!g)&&c.status!==0&&ye()},c.open(n.method,n.url,!0),c.withCredentials=!!n.withCredentials,u&&c.setRequestHeader)for(var x in u)u.hasOwnProperty(x)&&c.setRequestHeader(x,u[x]);else if(u&&g)throw new Error("Headers cannot be set on an XDomainRequest object");return n.rawBody&&(c.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter:mn,request:c,context:t}),c.send(n.body||null),d&&(i.connect=setTimeout(function(){return q("ETIMEDOUT")},d.connect)),{abort:D};function D(){O=!0,c&&c.abort()}function q(L){S=!0,c.abort();var B=new Error(L==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(n.url):"Connection timed out on request to ".concat(n.url));B.code=L,t.channels.error.publish(B)}function M(){d&&(ae(),i.socket=setTimeout(function(){return q("ESOCKETTIMEDOUT")},d.socket))}function ae(L){(L||O||c.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function se(L){if(!j){ae(!0),j=!0,c=null;var B=L||new Error("Network error while attempting to reach ".concat(n.url));B.isNetworkError=!0,B.request=n,e(B)}}function ve(){var L=c.status,B=c.statusText;if(g&&L===void 0)L=200;else{if(L>12e3&&L<12156)return se();L=c.status===1223?204:c.status,B=c.status===1223?"No Content":B}return{body:c.response||c.responseText,url:n.url,method:n.method,headers:g?{}:Aa(c.getAllResponseHeaders()),statusCode:L,statusMessage:B}}function ye(){if(!(O||j||S)){if(c.status===0){se(new Error("Unknown XHR error"));return}ae(),j=!0,e(null,ve())}}};(function(t){t.exports=Da})(Ia);var Ua=ra,Ma=na,Ha=wa,La=Sa,Fa=Qt,Na=["request","response","progress","error","abort"],wn=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"],Ba=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fa,n=[],i=wn.reduce(function(a,s){return a[s]=a[s]||[],a},{processOptions:[Ha],validateOptions:[La]});function o(a){var s=Na.reduce(function(S,T){return S[T]=Ua(),S},{}),v=Ma(i),c=v("processOptions",a);v("validateOptions",c);var g={options:c,channels:s,applyMiddleware:v},u=null,d=s.request.subscribe(function(S){u=r(S,function(T,x){return j(T,x,S)})});s.abort.subscribe(function(){d(),u&&u.abort()});var O=v("onReturn",s,g);return O===s&&s.request.publish(g),O;function j(S,T,x){var D=S,q=T;if(!D)try{q=v("onResponse",T,x)}catch(M){q=null,D=M}D=D&&v("onError",D,x),D?s.error.publish(D):q&&s.response.publish(q)}}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&i.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return wn.forEach(function(v){s[v]&&i[v].push(s[v])}),n.push(s),o},o.clone=function(){return t(n)},e.forEach(o.use),o};(function(t){t.exports=Ba})(ta);var Kt={},Be={get exports(){return Kt},set exports(t){Kt=t}};typeof globalThis<"u"?Be.exports=globalThis:typeof window<"u"?Be.exports=window:typeof Y<"u"?Be.exports=Y:typeof self<"u"?Be.exports=self:Be.exports={};var za=Kt,_n=W,Va=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.implementation||za.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(n,i){return new e(function(o){return n.error.subscribe(function(a){return o.error(a)}),n.progress.subscribe(function(a){return o.next(_n({type:"progress"},a))}),n.response.subscribe(function(a){o.next(_n({type:"response"},a)),o.complete()}),n.request.publish(i),function(){return n.abort.publish()}})}}};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Wa=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Xa=Wa;function On(t){return Xa(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var Ga=function(e){var r,n;return!(On(e)===!1||(r=e.constructor,typeof r!="function")||(n=r.prototype,On(n)===!1)||n.hasOwnProperty("isPrototypeOf")===!1)};function Zt(t){return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(t)}var En=W,Ja=Ga,Qa=["boolean","string","number"],Ya=function(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)},Ka=function(){return{processOptions:function(e){var r=e.body;if(!r)return e;var n=typeof r.pipe=="function",i=!n&&!Ya(r)&&(Qa.indexOf(Zt(r))!==-1||Array.isArray(r)||Ja(r));return i?En({},e,{body:JSON.stringify(e.body),headers:En({},e.headers,{"Content-Type":"application/json"})}):e}}},er=W,Za=function(t){return{onResponse:function(r){var n=r.headers["content-type"]||"",i=t&&t.force||n.indexOf("application/json")!==-1;return!r.body||!n||!i?r:er({},r,{body:es(r.body)})},processOptions:function(r){return er({},r,{headers:er({Accept:"application/json"},r.headers)})}}};function es(t){try{return JSON.parse(t)}catch(e){throw e.message="Failed to parsed response body as JSON: ".concat(e.message),e}}var tr={},ts={get exports(){return tr},set exports(t){tr=t}},rs=function(){return{onRequest:function(e){if(e.adapter!=="xhr")return;var r=e.request,n=e.context;"upload"in r&&"onprogress"in r.upload&&(r.upload.onprogress=i("upload")),"onprogress"in r&&(r.onprogress=i("download"));function i(o){return function(a){var s=a.lengthComputable?a.loaded/a.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable})}}}}};(function(t){t.exports=rs})(ts);var rr={},ct={},ns={get exports(){return ct},set exports(t){ct=t}};(function(t,e){var r=typeof Reflect<"u"?Reflect.construct:void 0,n=Object.defineProperty,i=Error.captureStackTrace;i===void 0&&(i=function(c){var g=new Error;n(c,"stack",{configurable:!0,get:function(){var d=g.stack;return n(this,"stack",{configurable:!0,value:d,writable:!0}),d},set:function(d){n(c,"stack",{configurable:!0,value:d,writable:!0})}})});function o(v){v!==void 0&&n(this,"message",{configurable:!0,value:v,writable:!0});var c=this.constructor.name;c!==void 0&&c!==this.name&&n(this,"name",{configurable:!0,value:c,writable:!0}),i(this,this.constructor)}o.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:o,writable:!0}});var a=function(){function v(g,u){return n(g,"name",{configurable:!0,value:u})}try{var c=function(){};if(v(c,"foo"),c.name==="foo")return v}catch{}}();function s(v,c){if(c==null||c===Error)c=o;else if(typeof c!="function")throw new TypeError("super_ should be a function");var g;if(typeof v=="string")g=v,v=r!==void 0?function(){return r(c,arguments,this.constructor)}:function(){c.apply(this,arguments)},a!==void 0&&(a(v,g),g=void 0);else if(typeof v!="function")throw new TypeError("constructor should be either a string or a function");v.super_=v.super=c;var u={constructor:{configurable:!0,value:v,writable:!0}};return g!==void 0&&(u.name={configurable:!0,value:g,writable:!0}),v.prototype=Object.create(c.prototype,u),v}e=t.exports=s,e.BaseError=o})(ns,ct);var Sn=ct,In=W;function nr(t){var e=Pn(t);nr.super.call(this,e.message),In(this,e)}function ir(t){var e=Pn(t);ir.super.call(this,e.message),In(this,e)}function Pn(t){var e=t.body,r={response:t,statusCode:t.statusCode,responseBody:os(e,t)};return e.error&&e.message?(r.message="".concat(e.error," - ").concat(e.message),r):e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||is(t),r)}function is(t){var e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}function os(t,e){var r=(e.headers["content-type"]||"").toLowerCase(),n=r.indexOf("application/json")!==-1;return n?JSON.stringify(t,null,2):t}Sn(nr),Sn(ir),rr.ClientError=nr,rr.ServerError=ir;var as=[],ss=zt,us=W,cs=Va,fs=Ka,ls=Za,ps=tr,ds=Fe,hs=ds.Observable,Cn=rr,Tn=Cn.ClientError,jn=Cn.ServerError,vs={onResponse:function(e){if(e.statusCode>=500)throw new jn(e);if(e.statusCode>=400)throw new Tn(e);return e}},ys={onResponse:function(e){var r=e.headers["x-sanity-warning"],n=Array.isArray(r)?r:[r];return n.filter(Boolean).forEach(function(i){return console.warn(i)}),e}},gs=as,ms=gs.concat([ys,fs(),ls(),ps(),vs,cs({implementation:hs})]),xn=ss(ms);function ft(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xn;return e(us({maxRedirects:0},t))}ft.defaultRequester=xn,ft.ClientError=Tn,ft.ServerError=jn;var bs=ft,Rn=W,ws="X-Sanity-Project-ID",_s=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={},n=e.token||t.token;n&&(r.Authorization="Bearer ".concat(n)),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[ws]=t.projectId);var i=Boolean(typeof e.withCredentials>"u"?t.token||t.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?t.timeout:e.timeout;return Rn({},e,{headers:Rn({},r,e.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:e.proxy||t.proxy,json:!0,withCredentials:i})},An={},Os="https://docs.sanity.io/help/",$n=function(e){return Os+e},lt={},Es=function(t){var e=!1,r;return function(){return e||(r=t.apply(void 0,arguments),e=!0),r}},or=$n,Ss=Es,ar=function(e){return Ss(function(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=console).warn.apply(r,[e.join(" ")].concat(i))})};lt.printCdnWarning=ar(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat(or("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]),lt.printBrowserTokenWarning=ar(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(or("js-client-browser-token")," for more information and how to hide this warning.")]),lt.printNoApiVersionSpecifiedWarning=ar(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(or("js-client-api-version"))]),function(t){var e=W,r=$n,n=Ee,i=lt,o="apicdn.sanity.io",a={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,isPromiseAPI:!0},s=["localhost","127.0.0.1","0.0.0.0"],v=function(g){return s.indexOf(g)!==-1};t.defaultConfig=a,t.initConfig=function(c,g){var u=e({},g,c);u.apiVersion||i.printNoApiVersionSpecifiedWarning();var d=e({},a,u),O=d.useProjectHostname;if(typeof Promise>"u"){var j=r("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(j))}if(O&&!d.projectId)throw new Error("Configuration must contain `projectId`");var S=typeof window<"u"&&window.location&&window.location.hostname,T=S&&v(window.location.hostname);S&&T&&d.token&&d.ignoreBrowserTokenWarning!==!0?i.printBrowserTokenWarning():typeof d.useCdn>"u"&&i.printCdnWarning(),O&&n.projectId(d.projectId),d.dataset&&n.dataset(d.dataset),"requestTagPrefix"in d&&(d.requestTagPrefix=d.requestTagPrefix?n.requestTag(d.requestTagPrefix).replace(/\.+$/,""):void 0),d.apiVersion="".concat(d.apiVersion).replace(/^v/,""),d.isDefaultApi=d.apiHost===a.apiHost,d.useCdn=Boolean(d.useCdn)&&!d.withCredentials,t.validateApiVersion(d.apiVersion);var x=d.apiHost.split("://",2),D=x[0],q=x[1],M=d.isDefaultApi?o:q;return d.useProjectHostname?(d.url="".concat(D,"://").concat(d.projectId,".").concat(q,"/v").concat(d.apiVersion),d.cdnUrl="".concat(D,"://").concat(d.projectId,".").concat(M,"/v").concat(d.apiVersion)):(d.url="".concat(d.apiHost,"/v").concat(d.apiVersion),d.cdnUrl=d.url),d},t.validateApiVersion=function(g){if(!(g==="1"||g==="X")){var u=new Date(g),d=/^\d{4}-\d{2}-\d{2}$/.test(g)&&u instanceof Date&&u.getTime()>0;if(!d)throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}}}(An);function qn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qn(Object(r),!0).forEach(function(n){Is(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Is(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var $e=W,ur=Fe,Ps=ur.Observable,Cs=ur.map,Ts=ur.filter,js=Ut,xs=Lr,Rs=qo,As=Uo,$s=Ho,qs=Qo,ks=Ko,Ds=ea,pt=bs,Us=_s,kn=An,Ms=kn.defaultConfig,Hs=kn.initConfig,Ls=Ee,Fs=function(e){return e.toPromise()};function te(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ms;if(!(this instanceof te))return new te(t);if(this.config(t),this.assets=new qs(this),this.datasets=new As(this),this.projects=new $s(this),this.users=new ks(this),this.auth=new Ds(this),this.clientConfig.isPromiseAPI){var e=$e({},this.clientConfig,{isPromiseAPI:!1});this.observable=new te(e)}}$e(te.prototype,Rs),$e(te.prototype,{clone:function(){return new te(this.config())},config:function(e){if(typeof e>"u")return $e({},this.clientConfig);if(this.clientConfig&&this.clientConfig.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");if(this.observable){var r=$e({},e,{isPromiseAPI:!1});this.observable.config(r)}return this.clientConfig=Hs(e,this.clientConfig||{}),this},withConfig:function(e){return new te(sr(sr({},this.config()),e))},getUrl:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=r?this.clientConfig.cdnUrl:this.clientConfig.url;return"".concat(n,"/").concat(e.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(e){var r=this,n=e.url||e.uri,i=typeof e.canUseCdn>"u"?["GET","HEAD"].indexOf(e.method||"GET")>=0&&n.indexOf("/data/")===0:e.canUseCdn,o=this.clientConfig.useCdn&&i,a=e.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,e.tag].join("."):e.tag||this.clientConfig.requestTagPrefix;a&&(e.query=sr({tag:Ls.requestTag(a)},e.query));var s=Us(this.clientConfig,$e({},e,{url:this.getUrl(n,o)}));return new Ps(function(v){return pt(s,r.clientConfig.requester).subscribe(v)})},request:function(e){var r=this._requestObservable(e).pipe(Ts(function(n){return n.type==="response"}),Cs(function(n){return n.body}));return this.isPromiseAPI()?Fs(r):r}}),te.Patch=js,te.Transaction=xs,te.ClientError=pt.ClientError,te.ServerError=pt.ServerError,te.requester=pt.defaultRequester;var Ns=te;function Bs(t){return Ns(t)}var zs=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=e.length-1;return e.slice(0,o).reduce(function(a,s,v){return a+s+n[v]},"")+e[o]};function Vs(t){const e="virtual:sanity-init",r="\0"+e;return{name:"vite-plugin-sanity-init",async resolveId(n){if(n===e)return r},async load(n){if(n===r)return`
          import client from "@sanity/client";
          export const sanityClient = client(${JSON.stringify(t)});
        `}}}function Ws(){return globalThis.sanityClient||console.error("Sanity client has not been initialized correctly"),globalThis.sanityClient}function Xs(t){return{name:"astro-sanity",hooks:{"astro:config:setup":({injectScript:e,updateConfig:r})=>{r({vite:{plugins:[Vs(t)]}}),e("page-ssr",`
          import { sanityClient } from "virtual:sanity-init";
          globalThis.sanityClient = sanityClient;
          `)}}}}ce.createImageBuilder=Ln,ce.createSanityClient=Bs,ce.default=Xs,ce.groq=zs,ce.portableTextToHtml=fi,ce.useSanityClient=Ws,Object.defineProperties(ce,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
